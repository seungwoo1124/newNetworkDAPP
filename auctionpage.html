<html>

<head>
    <script src='web3.min.js'></script>
    <script type="text/javascript" src="abilist.js">  </script>
    <script type="text/javascript">
        var aucontractInstance = null;
        var namereg = null;
        var itemname = new URLSearchParams(window.location.search).get("itemname");
        var address = new URLSearchParams(window.location.search).get("address");

        window.addEventListener('load', auction);

        async function auction() {
            if (window.ethereum) {
                window.accounts = await ethereum.request({ method: 'eth_requestAccounts' });

                window.web3 = new Web3(window.ethereum);

                var address = "0x3F863AefBA661DbD74905a274bA3269ad3730346";	// address of nameregistry
                namereg = await new window.web3.eth.Contract(nameregistryabi, address);

                aucontractInstance = await new window.web3.eth.Contract(auctionAbi, address);

                // Legacy dapp browsers...
            } else if (window.web3) {
                window.web3 = new Web3(web3.currentProvider);
                // Acccounts always exposed
                //    web3.eth.sendTransaction({/* ... */});
            }
            // Non-dapp browsers...
            else {
                console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');
                window.web3 = null
            }
            registerEventHandlers();
        }

        function registerEventHandlers() {
            let btn = document.getElementById("testbutton");
            btn.addEventListener('click', clickTestButton);
        }

        async function clickTestButton() {
            alert("clicked test button");
        }
        
    </script>
</head>
<body>
    <h1>This is Auction page</h1>
    <h2>Item Name : <span id="itemnameBox"\></span></h2>
    <input type="button" id="testbutton" value="test">

</body>
</html>